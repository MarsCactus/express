webpackJsonp([1],{Lj0R:function(t,e){},NHnr:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n("7+uW"),r={render:function(){var t=this.$createElement,e=this._self._c||t;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},staticRenderFns:[]};var a=n("VU/8")({name:"App"},r,!1,function(t){n("PeR1")},null,null).exports,s=n("/ocq"),l={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"hello"},[n("h1",[t._v(t._s(t.msg))]),t._v(" "),n("h2",[t._v("Essential Links")]),t._v(" "),t._m(0),t._v(" "),n("h2",[t._v("Ecosystem")]),t._v(" "),t._m(1)])},staticRenderFns:[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ul",[n("li",[n("a",{attrs:{href:"https://vuejs.org",target:"_blank"}},[t._v("\n        Core Docs\n      ")])]),t._v(" "),n("li",[n("a",{attrs:{href:"https://forum.vuejs.org",target:"_blank"}},[t._v("\n        Forum\n      ")])]),t._v(" "),n("li",[n("a",{attrs:{href:"https://chat.vuejs.org",target:"_blank"}},[t._v("\n        Community Chat\n      ")])]),t._v(" "),n("li",[n("a",{attrs:{href:"https://twitter.com/vuejs",target:"_blank"}},[t._v("\n        Twitter\n      ")])]),t._v(" "),n("br"),t._v(" "),n("li",[n("a",{attrs:{href:"http://vuejs-templates.github.io/webpack/",target:"_blank"}},[t._v("\n        Docs for This Template\n      ")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("ul",[e("li",[e("a",{attrs:{href:"http://router.vuejs.org/",target:"_blank"}},[this._v("\n        vue-router\n      ")])]),this._v(" "),e("li",[e("a",{attrs:{href:"http://vuex.vuejs.org/",target:"_blank"}},[this._v("\n        vuex\n      ")])]),this._v(" "),e("li",[e("a",{attrs:{href:"http://vue-loader.vuejs.org/",target:"_blank"}},[this._v("\n        vue-loader\n      ")])]),this._v(" "),e("li",[e("a",{attrs:{href:"https://github.com/vuejs/awesome-vue",target:"_blank"}},[this._v("\n        awesome-vue\n      ")])])])}]};n("VU/8")({name:"HelloWorld",data:function(){return{msg:"Welcome to Your Vue.js App"}}},l,!1,function(t){n("Ugm9")},"data-v-694cd902",null).exports;var i=n("mtWM"),m=n.n(i),c=function(t,e){return m.a.post("/login",{name:t,password:e})},u=n("NYxO");o.default.use(u.a);var f={name:""};sessionStorage.getItem("name")&&(f.name=sessionStorage.getItem("name"));var h=new u.a.Store({state:f,mutations:{changeName:function(t,e){t.name=e}}}),d={name:"index",store:h,data:function(){return{form:{name:"",passsword:""}}},methods:{onSubmit:function(){var t=this,e=(this.form.name,this.form.passsword,this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"}));c(this.form.name,this.form.passsword).then(function(n){e.close(),1==(n=n.data).code?t.$message.success({message:"登陆成功",onClose:function(){t.$store.commit("changeName",t.form.name),sessionStorage.setItem("name",t.form.name),t.$router.push("main")}}):t.$message.error(n.msg)}).catch(function(e){t.$message.error("登陆失败"),console.log(e)})}},mounted:function(){console.log(c)}},p={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"conent"},[n("h3",[t._v("登陆")]),t._v(" "),n("el-form",{ref:"form",attrs:{model:t.form,"label-width":"0px"}},[n("el-form-item",{attrs:{label:""}},[n("el-input",{attrs:{placeholder:"用户名"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),n("el-form-item",{attrs:{label:""}},[n("el-input",{attrs:{placeholder:"密码"},model:{value:t.form.passsword,callback:function(e){t.$set(t.form,"passsword",e)},expression:"form.passsword"}})],1),t._v(" "),n("el-form-item",[n("el-button",{staticStyle:{"margin-right":"20px"},attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("登陆")]),t._v(" "),n("router-link",{attrs:{to:"/register"}},[n("el-button",[t._v("注册")])],1)],1)],1)],1)},staticRenderFns:[]};var v=n("VU/8")(d,p,!1,function(t){n("fKiY")},"data-v-6db11671",null).exports,_={name:"register",store:h,data:function(){return{form:{name:"",passsword:"",repPasssword:""}}},methods:{onSubmit:function(){if(this.form.passsword==this.form.repPasssword){var t,e,n=this,o=this.$loading({lock:!0,text:"Loading",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 0.7)"});(t=this.form.name,e=this.form.passsword,m.a.post("/register",{name:t,password:e})).then(function(t){o.close(),1==(t=t.data).code?n.$message.success({message:"注册成功",onClose:function(){n.$store.commit("changeName",n.form.name),sessionStorage.setItem("name",n.form.name),n.$router.push("main")}}):(console.log(error),n.$message.error("注册失败"))}).catch(function(t){console.log(t),n.$message.error("注册失败")})}else this.$message.error("重复密码与密码不一致")}}},g={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"conent"},[n("h3",[t._v("注册")]),t._v(" "),n("el-form",{ref:"form",attrs:{model:t.form,"label-width":"0px"}},[n("el-form-item",{attrs:{label:""}},[n("el-input",{attrs:{placeholder:"用户名"},model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),t._v(" "),n("el-form-item",{attrs:{label:""}},[n("el-input",{attrs:{placeholder:"密码"},model:{value:t.form.passsword,callback:function(e){t.$set(t.form,"passsword",e)},expression:"form.passsword"}})],1),t._v(" "),n("el-form-item",{attrs:{label:""}},[n("el-input",{attrs:{placeholder:"重复密码"},model:{value:t.form.repPasssword,callback:function(e){t.$set(t.form,"repPasssword",e)},expression:"form.repPasssword"}})],1),t._v(" "),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("注册")])],1)],1)],1)},staticRenderFns:[]};var b=n("VU/8")(_,g,!1,function(t){n("dXXB")},"data-v-0b4c084e",null).exports;function x(t){return("00"+t).substr(t.length)}var k={name:"forms",data:function(){return{form:{date:"",breakfast:0,lunch:0,dinner:0,traffic:0,sock:0,work:1,clothes:0,clothesRemind:"",play:0,playRemind:"",others:0,othersRemind:"",user:""},now:""}},mounted:function(){var t=new Date;this.now=this.form.date=function(t,e){/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length)));var n={"M+":t.getMonth()+1,"d+":t.getDate(),"h+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds()};for(var o in n)if(new RegExp("("+o+")").test(e)){var r=n[o]+"";e=e.replace(RegExp.$1,1===RegExp.$1.length?r:x(r))}return e}(t,"yyyy-MM-dd"),this.init(),this.form.user=this.$store.state.name},computed:{eat:function(){return parseFloat(this.form.breakfast)+parseFloat(this.form.lunch)+parseFloat(this.form.dinner)},all:function(){return parseFloat(this.eat)+parseFloat(this.form.traffic)+parseFloat(this.form.sock)+parseFloat(this.form.clothes)+parseFloat(this.form.play)+parseFloat(this.form.others)}},methods:{gosubmit:function(){var t=this;this.$confirm("确认提交消费?","提示",{cancelButtonText:"取消",confirmButtonText:"确定",type:"warning"}).then(function(){t.onSubmit()}).catch(function(){})},onSubmit:function(){var t=this.form,e=1,n="";for(var o in t)if("playRemind"!=o&&"clothesRemind"!=o&&"othersRemind"!=o&&"date"!=o&&"user"!=o){if(console.log(t[o]),t[o]+""==""){e=0,n=o+"没填";break}t[o]=parseFloat(t[o]),console.log(t[o])}if(0!=e){var r,a=this;console.log(t),(r=t,m.a.post("/subSpending",r)).then(function(t){1==(t=t.data).code?a.$message.success("提交成功"):(console.log(n),a.$message.error("提交失败"))}).catch(function(t){a.$message.error("提交失败"),console.log(t)})}else this.$message.error(n)},change:function(){console.log(this.form.date),this.form.date<"2018-05-29"&&(this.form.date="2018-05-29",this.$message.error("2018-05-29是最早时间")),this.form.date>this.now&&(this.form.date=this.now,this.$message.error(this.now+"是最晚时间")),this.init()},init:function(){var t,e=this;(t=this.form.date,m.a.post("/getSpending",{date:t})).then(function(t){console.log(t),1==(t=t.data).code?t.data.length>0&&(e.form=t.data[0]):this.$message.error("系统异常")}).catch(function(t){this.$message.error("系统异常")})},formatInput:function(t){},blurInput:function(t){console.log(t);var e=this.form[t]+"";console.log(e),""==(e=e.replace(/[^\-?\d.]/g,""))&&(e=0),this.$set(this.form,t,e)}}},y={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-form",{ref:"form",attrs:{model:t.form,"label-width":"80px"}},[n("el-form-item",{attrs:{label:"消费时间"}},[n("el-col",{attrs:{span:11}},[n("el-date-picker",{staticStyle:{width:"100%"},attrs:{type:"date",placeholder:"选择日期",format:"yyyy-MM-dd","value-format":"yyyy-MM-dd"},on:{change:t.change},model:{value:t.form.date,callback:function(e){t.$set(t.form,"date",e)},expression:"form.date"}})],1)],1),t._v(" "),n("el-form-item",{staticClass:"eat",attrs:{label:"吃饭费用"}},[n("el-input",{attrs:{placeholder:"早",maxlength:"5"},on:{input:function(e){t.formatInput("breakfast")},blur:function(e){t.blurInput("breakfast")}},model:{value:t.form.breakfast,callback:function(e){t.$set(t.form,"breakfast",e)},expression:"form.breakfast"}}),t._v(" "),n("el-input",{attrs:{placeholder:"中",maxlength:"5"},on:{input:function(e){t.formatInput("lunch")},blur:function(e){t.blurInput("lunch")}},model:{value:t.form.lunch,callback:function(e){t.$set(t.form,"lunch",e)},expression:"form.lunch"}}),t._v(" "),n("el-input",{attrs:{placeholder:"晚",maxlength:"5"},on:{input:function(e){t.formatInput("dinner")},blur:function(e){t.blurInput("dinner")}},model:{value:t.form.dinner,callback:function(e){t.$set(t.form,"dinner",e)},expression:"form.dinner"}}),t._v(" "),n("span",[t._v("总计："+t._s(t.eat))])],1),t._v(" "),n("el-form-item",{attrs:{label:"交通费用"}},[n("el-input",{attrs:{type:""},on:{input:function(e){t.formatInput("traffic")},blur:function(e){t.blurInput("traffic")}},model:{value:t.form.traffic,callback:function(e){t.$set(t.form,"traffic",e)},expression:"form.traffic"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"零食费用"}},[n("el-input",{on:{input:function(e){t.formatInput("sock")},blur:function(e){t.blurInput("sock")}},model:{value:t.form.sock,callback:function(e){t.$set(t.form,"sock",e)},expression:"form.sock"}}),t._v(" "),n("span",[t._v("包含饮料，零食，大包零食记录首天")])],1),t._v(" "),n("el-form-item",{attrs:{label:"是否上班"}},[n("el-radio-group",{model:{value:t.form.work,callback:function(e){t.$set(t.form,"work",e)},expression:"form.work"}},[n("el-radio",{attrs:{label:1}},[t._v("是")]),t._v(" "),n("el-radio",{attrs:{label:0}},[t._v("否")])],1)],1),t._v(" "),n("el-form-item",{attrs:{label:"游玩费用"}},[n("el-input",{on:{input:function(e){t.formatInput("play")},blur:function(e){t.blurInput("play")}},model:{value:t.form.play,callback:function(e){t.$set(t.form,"play",e)},expression:"form.play"}})],1),t._v(" "),n("el-form-item",{attrs:{label:""}},[n("el-input",{attrs:{type:"textarea",placeholder:"游玩费用备注(非必填)"},model:{value:t.form.playRemind,callback:function(e){t.$set(t.form,"playRemind",e)},expression:"form.playRemind"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"服装费用"}},[n("el-input",{on:{input:function(e){t.formatInput("clothes")},blur:function(e){t.blurInput("clothes")}},model:{value:t.form.clothes,callback:function(e){t.$set(t.form,"clothes",e)},expression:"form.clothes"}})],1),t._v(" "),n("el-form-item",{attrs:{label:""}},[n("el-input",{attrs:{type:"textarea",placeholder:"服装费用备注(非必填)"},model:{value:t.form.clothesRemind,callback:function(e){t.$set(t.form,"clothesRemind",e)},expression:"form.clothesRemind"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"其他费用"}},[n("el-input",{on:{input:function(e){t.formatInput("others")},blur:function(e){t.blurInput("others")}},model:{value:t.form.others,callback:function(e){t.$set(t.form,"others",e)},expression:"form.others"}})],1),t._v(" "),n("el-form-item",{attrs:{label:""}},[n("el-input",{attrs:{type:"textarea",placeholder:"其他费用备注(非必填)"},model:{value:t.form.othersRemind,callback:function(e){t.$set(t.form,"othersRemind",e)},expression:"form.othersRemind"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"费用总计"}},[t._v("\n    "+t._s(t.all)+"\n  ")]),t._v(" "),n("el-form-item",[n("el-button",{attrs:{type:"primary"},on:{click:t.gosubmit}},[t._v("提交")])],1)],1)},staticRenderFns:[]};var $=n("VU/8")(k,y,!1,function(t){n("Xtuc")},"data-v-c3a1b6ce",null).exports,w={name:"mains",store:h,data:function(){return{list:[1,2],activeIndex:"1",activeIndex2:"1",month:"",count:0,now:"",form:{breakfast:0,lunch:0,dinner:0,traffic:0,sock:0,clothes:0,play:0,others:0}}},mounted:function(){var t=new Date,e=t.getMonth()+1,n=t.getFullYear();e=e<10?"0"+e:e,this.month=n+"-"+e,console.log(this.nextmonth),this.now=n+"-"+e,this.init()},computed:{name:function(){return this.$store.state.name},eat:function(){return this.form.breakfast+this.form.lunch+this.form.dinner},nextmonth:function(){var t=this.month.split("-"),e="";if(12==parseInt(t[1]))e=parseInt(t[0])+1+"-01";else{var n=parseInt(t[1])+1;e=t[0]+"-"+(n<10?"0"+n:n)}return e}},methods:{handleSelect:function(t,e){console.log(t,e)},init:function(){var t,e,n=this;n.count=0,(t=this.month,e=this.nextmonth,m.a.post("/getSumByDate",{month:t,nextmonth:e})).then(function(t){console.log(t.data.data[0]);var e=t.data.data[0];for(var o in e)if(null==e[o]){n.count+=0;var r=o.split(")")[0].split("(")[1];n.form[r]=0}else{n.count+=e[o],console.log(e[o]);var a=o.split(")")[0].split("(")[1];n.form[a]=e[o]}}).catch(function(t){console.log(t)})},change:function(){console.log(this.nextmonth),this.month<"2018-05"&&(this.month="2018-05",this.$message.error("2018-05是最早时间")),this.month>this.now&&(this.month=this.now,this.$message.error(this.now+"是最晚时间")),this.init()}},components:{forms:$}},R={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-container",{staticStyle:{height:"100%"}},[n("el-header",[n("el-menu",{staticClass:"el-menu-demo",attrs:{"default-active":t.activeIndex2,mode:"horizontal","background-color":"#545c64","text-color":"#fff","active-text-color":"#ffd04b"},on:{select:t.handleSelect}},[n("el-menu-item",{attrs:{index:"1"}},[t._v("处理中心")]),t._v(" "),n("el-submenu",{attrs:{index:"2"}},[n("template",{slot:"title"},[t._v("我的工作台")]),t._v(" "),n("el-menu-item",{attrs:{index:"2-1"}},[t._v("选项1")]),t._v(" "),n("el-menu-item",{attrs:{index:"2-2"}},[t._v("选项2")]),t._v(" "),n("el-menu-item",{attrs:{index:"2-3"}},[t._v("选项3")]),t._v(" "),n("el-submenu",{attrs:{index:"2-4"}},[n("template",{slot:"title"},[t._v("选项4")]),t._v(" "),n("el-menu-item",{attrs:{index:"2-4-1"}},[t._v("选项1")]),t._v(" "),n("el-menu-item",{attrs:{index:"2-4-2"}},[t._v("选项2")]),t._v(" "),n("el-menu-item",{attrs:{index:"2-4-3"}},[t._v("选项3")])],2)],2),t._v(" "),n("el-menu-item",{attrs:{index:"3",disabled:""}},[t._v("消息中心")]),t._v(" "),n("el-menu-item",{attrs:{index:"4"}},[n("a",{attrs:{href:"https://www.ele.me",target:"_blank"}},[t._v("订单管理")])])],1)],1),t._v(" "),n("el-main",[n("div",{staticClass:"main"},[n("div",{staticClass:"mian-content"},[n("forms")],1),t._v(" "),n("div",{staticClass:"main-remind"},[n("div",{staticClass:"remind"},[n("div",{staticClass:"remind-title"},[t._v("小结")]),t._v(" "),n("ul",[n("li",[t._v("整月消费总计 "),n("el-date-picker",{staticStyle:{width:"150px",float:"right"},attrs:{type:"month",placeholder:"选择日期",format:"yyyy-MM","value-format":"yyyy-MM"},on:{change:t.change},model:{value:t.month,callback:function(e){t.month=e},expression:"month"}})],1),t._v(" "),n("li",[t._v("吃饭费用："+t._s(t.eat)+"   早中晚:("+t._s(t.form.breakfast)+","+t._s(t.form.lunch)+","+t._s(t.form.dinner)+" )")]),t._v(" "),n("li",[t._v("交通费用："+t._s(t.form.traffic))]),t._v(" "),n("li",[t._v("零食费用："+t._s(t.form.sock))]),t._v(" "),n("li",[t._v("衣服费用："+t._s(t.form.clothes))]),t._v(" "),n("li",[t._v("游玩费用："+t._s(t.form.play))]),t._v(" "),n("li",[t._v("其他费用："+t._s(t.form.others))]),t._v(" "),n("li",[t._v("费用总计："+t._s(t.count))])])])])])])],1)},staticRenderFns:[]};var I=n("VU/8")(w,R,!1,function(t){n("Lj0R")},"data-v-1d80966c",null).exports;o.default.use(s.a);var S=new s.a({routes:[{path:"/",name:"Index",component:v},{path:"/register",name:"register",component:b},{path:"/main",name:"main",component:I,meta:{requireAuth:!0}}]}),F=n("zL8q"),E=n.n(F);n("tvR6");o.default.use(u.a),o.default.prototype.$ajax=m.a,o.default.use(E.a),o.default.config.productionTip=!1,S.beforeEach(function(t,e,n){t.meta.requireAuth?(console.log(h.state.name),sessionStorage.getItem("name")?n():n({path:"/",query:{redirect:t.fullPath}})):n()}),new o.default({el:"#app",router:S,components:{App:a},template:"<App/>"})},PeR1:function(t,e){},Ugm9:function(t,e){},Xtuc:function(t,e){},dXXB:function(t,e){},fKiY:function(t,e){},tvR6:function(t,e){}},["NHnr"]);
//# sourceMappingURL=app.d4eb1804a20013827fea.js.map